---
import "@styles/components/_menu-nav.scss";

import ColorModeToggle from "@components/ColorModeToggle.vue";
import MainMenu from "@components/header/MainMenu.vue";
import SearchModalTrigger from "@components/modals/search/SearchModalTrigger.vue";
import SunMoonIcon from "virtual:icons/lucide/sun-moon";
import MainMenuButton from "@components/MainMenuButton.vue";

const isIndex = Astro.url.pathname === "/";
---

<header class="c-header">
  <div class="c-header__wrapper u-max-body-width">
    <div class="c-logo">
      <a href="/" class="c-logo__link"> Berliner Schnauze</a>
    </div>

    <nav class="c-menu-nav">
      {
        !isIndex && (
          <SearchModalTrigger client:only="vue">
            <SearchModalTrigger slot="fallback" />
          </SearchModalTrigger>
        )
      }

      <ColorModeToggle cssClasses={"c-menu-nav__item c-menu-nav__item-button"} client:only="vue">
        <button
          slot="fallback"
          type="button"
          class="c-color-mode-toggle c-button c-button--center-icon"
        >
          <SunMoonIcon />
        </button>
      </ColorModeToggle>

      <MainMenu client:only="vue">
        <MainMenuButton slot="fallback" />
      </MainMenu>
    </nav>
  </div>
</header>
